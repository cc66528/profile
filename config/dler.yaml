custom:
  enable_rule_generator: true
  overwrite_original_rules: true

  proxy_groups:
  {% if default(request.relay, "") == "1" %}
  - {import: "https://raw.githubusercontent.com/hardy-one/prefini/master/snippets/dler_groups_relay.txt"}
  {% else %}
  - {import: "https://raw.githubusercontent.com/hardy-one/prefini/master/snippets/dler_groups.txt"}
  {% endif %}
  rulesets:
  - {import: "https://raw.githubusercontent.com/hardy-one/profile/master/snippets/rulesets.txt"}
  
  {% if request.target == "clash" or request.target == "clashr" %}
  - {ruleset: "clash-ipcidr:https://ruleset.dev/clash_domestic_services_ips", group: "DIRECT", interval: 86400}
  {% else %}
  - {rule: "GEOIP,CN", group: "DIRECT"}
  {% endif %}
  
  - {rule: "FINAL", group: "Final"}


  clash_rule_base: https://raw.githubusercontent.com/hardy-one/profile/master/base/clash.yaml
  surge_rule_base: https://raw.githubusercontent.com/hardy-one/profile/master/base/surge.conf
  # surfboard_rule_base: base/surfboard.conf
  # mellow_rule_base: base/mellow.conf
  # quan_rule_base: base/quan.conf
  # quanx_rule_base: base/quanx.conf

  rename_node:
  - {match: "(.*)( -.*)( ->.*)?", replace: "$1$3"}
  - {import: snippets/rename_node.txt}

  add_emoji: false
  remove_old_emoji: false
  # emojis:
  # - {import: snippets/emoji.txt}

  # include_remarks: []
  # exclude_remarks: []
  # template_args:
  # - {key: clash.dns.port, value: 5353}
